<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <title>Register</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/register.css">
</head>
<body>
    <div class="mainWrap">
        <!--MAIN REGISTER WINDOW-->
        <div class="main" id="mainRegister">
            <div class="registerTop">
                <div class="registerTitleWrap">
                    <h1 class="registerTitle">Register</h1>
                </div>

                <div class="registerTopHint">
                    Step 1 out of 2
                </div>
                
                <div class="ErrorWrap" id="error"></div>
            </div>

            <div class="registerMiddle">
                <!--register prompts-->
                <div class="registerInner">
                    <!--Username-->
                    <div class="UsernameWrap promptWrap">
                        <div class="RegisterTitle">
                            Username
                        </div>
                        <div class="UsernamePromptInner">
                            <input type="text" class="borderBottom registerTextBox" id="newUsername" placeholder="username">
                        </div>
                    </div>
                    <!--Username-->

                    <!--Password-->
                    <div class="PasswordWrap promptWrap">
                        <div class="RegisterTitle">
                            Password
                        </div>
                        <div class="PasswordPromptInner">
                            <div class="passwordInnerDiv">
                                <div class="leftGrid">
                                    <input type="password" class="registerTextBox" id="passwordtextBox1" placeholder="password">
                                </div>
                                <div class="rightGrid">
                                    <button class="showHideBtn showHideBtn1" id="showHideBtn1" onclick="showHidePassRegister(1)">(Show)</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Password-->

                    <!--Full name-->
                    <div class="FullNameWrap promptWrap">
                        <div class="RegisterTitle">
                            Full name
                        </div>
                        <div class="FullNameInner">
                            <div class="firstNameWrap">
                                <div>
                                    <input type="text" class="fullNameTextBox" id="newFirstName" placeholder="first name">
                                </div>
                            </div>
                            <div class="lastNameWrap">
                                <div>
                                    <input type="text" class="fullNameTextBox" id="newLastName" placeholder="surname">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Full name-->

                    <!--buttons-->
                    <div class="RegisterButtonsWrap promptWrap">
                        <div class="leftGrid">
                            <div>
                                <button class="registerBtn" onclick="registerClear()">Clear</button>
                            </div>
                        </div>
                        <div class="rightGrid">
                            <div>
                                <button class="registerBtn" onclick="registerCheck()">Register</button>
                            </div>
                        </div>
                    </div>
                    <!--buttons-->
                    
                </div>
                <!--register prompts-->
            </div>

            <div class="registerBottom">
                <div>
                    <a class="backLink" href="login.html">Back to login</a>
                </div>
            </div>
        </div>
        <!--MAIN REGISTER WINDOW-->

        <!--API KEY ENTER WINDOW-->
        <div class="apiMain" id="apiMain">
            <div class="apiTop">
                <div class="apiTitle">
                    <h1 class="registerTitleText">
                        Enter your OpenAI API key
                    </h1>
                </div>
                <div class="apiTopHint">
                    Step 2 out of 2
                </div>
                <div id="apiError"></div>
            </div>

            <div class="apiMiddle">
                <div>
                    API key
                </div>

                <div>
                    <input type="text" class="apiKeyRegisterInput" id="apiKeyRegister" maxlength="255">
                </div>

                <div class="apiMidBtnWrap">
                    <div class="apiMidBtnInner">
                        <div class="apiMidLeft">
                            <button class="registerBtn" onclick="RegisterDisplayMode(0)">Back to prompt</button>
                        </div>
                        <div class="apiMidRight">
                            <button class="registerBtn" id="registerApiBtn" onclick="registerCheckApi()">Register</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="apiBottom">
                <div class="apiBottomHint">
                    Keep your API key safe, do not share it with anyone.
                </div>
                <div>
                    <button class="skipApiBtn" onclick="registerSkipApi()">Skip this step (click here)</button>
                </div>
            </div>
        </div>
        <!--API KEY ENTER WINDOW-->
    </div>
</body>

<script src="Scripts/register.js"></script>
<script src="preload.js"></script>
<script>
    setupDb();
    checkExistingAccounts();
</script>

</html>