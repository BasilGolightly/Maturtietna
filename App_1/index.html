<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Mark Sadnik, Max Sovic, Maximilian Zakrajsek (R4B, SCC KER)">
    <title>M3 E-mail client</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/index.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/newMail.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/generated.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/contacts.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/settings.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/search.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/home.css">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <script src="Scripts/resizeMain.js"></script>
</head>

<body>
    <!--NAVBAR-->
    <div class="left">
        
        <!--logo-->
        <div class="top_l">
            <h1 class="logoTitle">M<sup>3</sup> email client</h1>
            <span id="globalIdUser" class="globalIdUser"></span>
        </div>
        <!--logo-->

        <!--nav items-->
        <div class="mid_l">
            <!--
            <div class="listItem" id="newMailNavItem" onclick="displayMode(0)">
                <div>
                    <img src="pictures/new_mail_icon.png" class="addIcon navImg" width="" height="">
                </div>
                <div>
                    New mail
                </div>
            </div>
            -->
            <div class="listItem" id="homeNavItem" onclick="displayMode(5)">
                <div>
                    <img src="pictures/home_icon.png" class="homeIcon navImg" width="" height="">
                </div>
                <div>
                    Home
                </div>
            </div>
            <div class="listItem" id="generatedNavItem" onclick="displayMode(1)">
                <div>
                    <img src="pictures/mail_icon.png" class="generatedIcon navImg" width="" height="">
                </div>
                <div>
                    Mails
                </div>
            </div>
            <div class="listItem" id="contactsNavItem" onclick="displayMode(2)">
                <div>
                    <img src="pictures/white_pfp.png" class="contactsIcon navImg" width="" height="">
                </div>
                <div>
                    Contacts
                </div>
            </div>
            <!--
            <div class="listItem" id="settingsNavItem" onclick="displayMode(3)">
                <div>
                    <img src="pictures/setting_icon.png" class="settingsIcon navImg" width="" height="">
                </div>
                <div>
                    Settings
                </div>
            </div>
            -->
        </div>
        <!--nav items-->

        <!--account-->
        <div class="bottom_l">
            <div class="navAccWrap">
                <div class="navAccImgWrap">
                    <img src="pictures/white_pfp.png" class="navAccImg">
                </div>
                <div class="navAccTextWrap">
                    <div class="navAccUsername"><a class="accSettingsLink" id="navAccName" href="#" onclick="displayMode(3)">Account name</a></div>
                    <div class="navAccLogOut"><a class="link" href="login.html">logout</a></div>
                </div>
            </div>
        </div>
        <!--account-->
    </div>
    <!--NAVBAR-->

    <!--CONTENT-->
    <div class="right">

        <!--top right-->
        <div class="rightTop">
            <div class="rightTopInner">
                <div class="newMailTopBtnWrap leftTop">
                    <button class="addContactTopBtn" onclick="displayModeAddContacts(-1)">
                        <img src="pictures/white_pfp_hover.png" width="" height="" class="topBarImg"> New contact
                    </button>

                    <button class="newMailTopBtn" onclick="displayMode(0)">
                        <img src="pictures/new_mail_icon.png" width="" height="" class="topBarImg"> New mail
                    </button>
                </div>

                <div class="middleTop">
                    <div class="searchBarWrap" id="searchBarWrap">
                        <div>
                            <button class="searchTopBtn" id="searchTopBtn">
                                <img src="pictures/search_icon.webp" class="searchTopImg">
                            </button>
                        </div>
                        <div>
                            <input type="text" placeholder="search..." id="searchTopTextBox" class="searchTopTextBox" maxlength="50">
                        </div>
                    </div>
                </div>

                <div class="rightTopGrid">
                    <div>
                        <button class="rightTopBtn TopDotsBtn" onclick="MoreAbout()">
                            <!--<img src="pictures/dots_icon.png" width="35" height="35">-->
                        </button>
                    </div>

                    <div>
                        <button class="rightTopBtn TopCopyBtn" onclick="CopyMail()">
                            <!--<img src="pictures/copy_icon.png" width="35" height="35">-->
                        </button>
                    </div>

                    <div>
                        <button class="rightTopBtn TopDeleteBtn" onclick="DeleteMail()">
                            <!--<img src="pictures/trash_icon.png" width="35" height="35">-->
                        </button>
                    </div>

                    <div>
                        <button class="rightTopBtn1 TopClearBtn" onclick="searchBarDisplayMode(0)">

                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!--top right-->

        <!--window CONTENT-->
        <div class="rightInner">
            <!--New mail-->
            <div id="newMailFrame" class="newMailFrame windowFrame">
                <!--new mail title icon-->
                <div class="newMailHead">
                    <div>
                        <img src="pictures/new_mail_icon.png" class="newMailHeadImg">
                    </div>
                    <div id="newMailHeadTitleText" class="newMailHeadTitleText">
                        Create new mail
                    </div>
                </div>
                <!--new mail title icon-->
                <div class="newMailWrap">

                    <!--new mail title-->
                    <div class="newMailTitle inlineTextDiv">
                        <div class="NewMailIcon">
                            <img src="pictures/title_mail_icon.png" class="newMailTitleImg" width="" height="">
                        </div>
                        <div class="NewMailTextDiv">
                            <input type="text" name="NewMailTitle" id="newMailTextField" class="newMailTextField" maxlength="30" placeholder="Title" value="New mail">
                        </div>
                        <div class="CreateMailDiv">
                            <button class="NewMailSubmitBtn" id="NewMailSubmitBtn" onclick="generateMail()"></button>
                        </div>
                    </div>
                    <!--new mail title-->

                    <!--recipient-->
                    <div class="newMailRecipient">
                        <div class="NewRecipientIcon">
                            <button class="NewRecipientBtn"></button>
                        </div>
                        <div class="NewRecipientTextDiv">
                            <select name="newMailRecipient" class="newRecipientDropDown" id="newRecipentDropDown">
                                <option value="0">Select recipient</option>
                                <option value="1">Recipient 1</option>
                            </select>
                        </div>
                    </div>
                    <!--recipient-->

                    <!--purpose-->
                    <div class="newMailPurpose">
                        <!--purpose general-->
                        <div class="newPurposeTop">
                            <div class="NewPurposeIcon">
                                <button class="newPurposeBtn"></button>
                            </div>
                            <div class="newMailPurposeTextField">
                                <select class="newPurposeDropDown" name="newMailPurpose" id="newMailPurpose">
                                    <option value="0">Select purpose of mail</option>
                                    <option value="apology">Apology</option>
                                </select>
                                <!--<input type="text" name="newMailPurpose" classs="newPurposeTextField" value="Purpose" placeholder="Purpose">-->
                            </div>
                            <div class="newMailPurposeExtra">
                                <button id="newExtraBtn" class="newExtraBtn" onclick="showPurposeMenu()"></button>
                            </div>
                        </div>
                        <!--purpose general-->

                        <!--reason-->
                        <div class="newReason newPurposeBottom" id="newReason">
                            <div class="newReasonTitleField">
                                Reason
                            </div>
                            <div class="newMailReasonTextField">
                                <textarea name="newReason" class="newReasonTextField" placeholder="Max. 200 chars" maxlength="200" id="newReasonTextArea" onblur="onBlurReasonTextBox()"></textarea>
                            </div>
                        </div>
                        <!--reason-->

                        <!--formality-->
                        <div class="newFormality newPurposeBottom newMailFormalitySwitchWrap">
                            <div class="newMailFormalitySwitch">
                                <label class="newFormalitySwitch switch">
                                    <input type="checkbox" name="newFormality" checked id="newFormalityCheck"
                                        onchange="changeFormality()">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                            <div class="newFormalityOutput" id="newFormalityOutput">
                                Formal
                            </div>
                        </div>
                        <!--formality-->
                    </div>
                    <!--purpose-->

                </div>

            </div>
            <!--New mail-->


            <!--Generated-->
            <div id="generatedFrame" class="generatedFrame windowFrame">
                <div class="generatedTitle">
                    <div>
                        <img src="pictures/mail_icon.png" class="generatedImg">
                    </div>
                    <div class="generatedTitleText" id="generatedTitleText">
                        <a onclick="displayMode(1)" href="#" class="titleLink">Generated mails</a> <span class="generatedTitleCount" id="generatedTitleCount"></span>
                    </div>
                </div>

                <div class="generatedWindowWrap">
                    <!--generated list-->
                    <div class="generatedWrap" id="generatedWrap">
                        <!--example mail
                        <div class="generatedLetter" onclick="displayModeGenerated(1)" id="generatedLetter1">
                            <div class="generatedLetterInner">
                                <div class="generatedLetterTitle" id="titleMail1">
                                    Mail 1
                                </div>
                                <div class="generatedLetterDate" id="dateMail1">
                                    3. 02. 2024
                                </div>
                            </div>-->

                            <!--quick peek content
                            <div class="generatedLetterContent">
                                Description nasdadadasd
                            </div>
                            quick peek content-->
                        <!--
                        </div>
                        example mail-->

                        <!--NO MAILS FOUND-->
                        <div class="generatedLetterEmpty" id="generatedLetterEmpty">
                            <div class="generatedLetterEmptyInner">
                                No mails found.
                            </div>
                        </div>
                        <!--NO MAILS FOUND-->
                    </div>
                    <!--generated list-->

                    <!--selected mail-->
                    <div class="generatedMailWrap" id="generatedMailWrap">
                        <!--no mail selected-->
                        <div class="noMailSelectedWrap">
                            <div class="noMailSelectedInner">
                                <div>
                                    <img src="pictures/generated_mail_icon_empty.png" class="noMailSelectedImg">
                                </div>
                                <div>No mail selected</div>
                            </div>
                        </div>
                        <!--no mail selected-->
                    </div>
                    <!--selected mail-->
                </div>

            </div>
            <!--Generated-->


            <!--Contacts-->
            <div id="contactsFrame" class="contactsFrame windowFrame">
                
                <!--contacts title-->
                <div class="contactsHeadWrap">
                    <div>
                        <img id="contactImg" src="pictures/white_pfp.png" class="contactsHeadImg">
                    </div>
                    <div class="contactsHeadTitleText" id="contactsHeadTitleText">
                        <a class="titleLink" href="#" onclick="displayMode(2)">Contacts</a>
                    </div>
                </div>
                <!--contacts title-->
                
                <!--contacts wrap-->
                <div class="contactsWrap">
                    
                    <!--contacts list-->
                    <div class="contactsListWrap" id="contactList">

                        <!--contact count-->
                        <div class="contactsListHead">
                            <div class="contactsListHeadCount">
                                <span id="countContacts"></span> contact(s)
                            </div>  
                            <div class="contactsListHeadAdd">
                                <button class="contactsListHeadBtnAdd" onclick="displayModeAddContacts(-1)"><img src="pictures/white_pfp_hover.png" class="contactsAddBtnImg"> <span class="contactAddBtnText"></span></button>
                            </div>
                        </div>
                        <!--contact count-->
                        
                        <!--contacts-->
                        <!--
                        <div class="contactFrame" onclick="displayModeAddContacts(1)">
                            <div class="contactName" id="contact1">
                                Mark Sadnik
                            </div>
                            <div class="contactArrow">
                                >
                            </div>
                        </div>
                        -->
                        <!--contacts-->

                        <!--no contacts found-->
                        <div class="contactListEmpty">
                            <div class="contactListEmptyImgWrap">
                                <img src="pictures/contacts_icon_empty.png" class="contactListEmptyImg">
                            </div>
                            <div class="contactListEmptyText">
                                No contacts found.
                            </div>
                        </div>
                        <!--no contacts found-->
                    </div>
                    <!--contacts list-->

                    <!--ADD, EDIT contact-->
                    <div class="addContactWrap" id="addContact">

                        <!--first + last name-->
                        <div class="addContactNameWrap">
                            <div class="addContactNameTitle addContactTitle">
                                Name <span class="red star">*</span>
                            </div>
                            <div class="addContactLastNameWrap">
                                <div>
                                    <input type="text" class="addContactTextField" id="addContactFirstName" placeholder="First name">
                                </div>
                                <div class="addContactComa">
                                    ,
                                </div>
                                <div>
                                    <input type="text" class="addContactTextField" id="addContactLastName" placeholder="Surname">
                                </div>
                            </div>
                        </div>
                        <!--first + last name-->

                        <!--Date of birth-->
                        <div class="addContactDateOfBirthWrap">
                            <div class="addContactDateOfBirthTitle addContactTitle">
                                Date of birth <span class="red star">*</span>
                            </div>
                            <div>
                                <input class="addContactDobInput" id="addContactDOB" type="date" onchange="this.blur()" onkeydown="javascript: this.blur()">
                            </div>
                        </div>
                        <!--Date of birth-->

                        <!--Relation-->
                        <div class="addContactRelationWrap">
                            <div class="addContactTitle">
                                Relation <span class="red star">*</span>
                            </div>
                            <div>
                                <select class="addContactRelationInput" id="addContactRelation" onchange="this.blur()">
                                    <option value="0">Sibling</option>
                                    <option value="1">Parent</option>
                                    <option value="2">Child</option>
                                    <option value="3">Grandchild</option>
                                    <option value="4">Grandparent</option>
                                    <option value="5">Uncle / aunt</option>
                                    <option value="6">Nephew / Niece</option>
                                    <option value="7">Cousin</option>
                                    <option value="8">Relative</option>
                                    <option value="9">Acquaintance</option>
                                    <option value="10">Friend</option>
                                    <option value="11">Other</option>
                                </select>
                            </div>
                        </div>
                        <!--Relation-->

                        <!--Bio-->
                        <div class="addContactBioWrap">
                            <div class="addContactTitle">
                                Bio (optional)
                            </div>
                            <div class="addContactBioTextWrap">
                                <textarea class="addContactBioText" id="addContactBio" placeholder="max. 250 char" onclick="setCursorTextArea(this)"></textarea>
                            </div>
                        </div>
                        <!--Bio-->  

                        <!--Submit-->
                        <div class="addContactSubmitWrap">
                            <div class="addContactSubmitInner">
                                <button class="addContactSubmitBtn" id="addContactSubmitBtn" onclick="submitContact()">
                                    Save changes
                                </button>
                            </div>
                            <div class="deleteContactSubmitInner" id="deleteWrap" onclick="deleteContact()">
                                <button class="deleteContactBtn">
                                    Delete contact
                                </button>
                            </div>
                        </div>
                        <!--Submit-->
                    </div>
                    <!--ADD, EDIT contact-->

                </div>
                <!--contacts wrap-->

            </div>
            <!--Contacts-->


            <!--Settings-->
            <div id="settingsFrame" class="settingsFrame windowFrame">

                <!--settings title-->
                <div class="settingsHeadWrap">
                    <div class="settingsImgWrap">
                        <img src="pictures/acc_settings_icon.png" class="settingsTitleImg">
                    </div>
                    <div class="settingsTitleWrap">
                        Settings
                    </div>
                </div>
                <!--settings title-->

                <!--settings content-->
                <div class="settingContentWrap">
                    
                    <!--account settings-->
                    <div class="accSettingsWrap">

                        <div class="accSettingsTitle">
                            Account Settings
                        </div>

                        <table class="accSettingsContent"> 

                            <!--username-->
                            <tr class="accSettingsUsernameWrap">
                                <td class="accSettingsUsernameTitle" id="accSettingsTableFirstCol">
                                    Username
                                </td>

                                <td class="accSettingsUsernameInner">
                                    <input type="text" class="accSettingsUsernameTextField" id="accSettingsUsernameTextField" readonly>
                                </td>

                                <td class="accSettingsUsernameBtnWrap">
                                    <button class="changeUsernameBtn" id="changeUsernameBtn" onclick="changeUsername()">Edit</button>
                                </td>
                            </tr>
                            <!--username-->

                            <!--password-->
                            <tr class="accSettingsPaswordWrap">
                                <td class="accSettingsPasswordTitle">
                                    Password
                                </td>

                                <td class="accSettingsPasswordInner">
                                    <input type="password" style="display: none;" class="accSettingsNewPassTextField" id="accSettingsNewPassTextField" placeholder="12 characters minimum"> 
                                    <input type="password" style="display: none;" class="accSettingsEnterPassTextField" id="accSettingsEnterPassTextField" placeholder="enter password...">
                                    <input type="password" class="accSettingsPasswordTextField" id="accSettingsPasswordTextField" readonly>
                                </td>

                                <td class="accSettingsPasswordBtnWrap">
                                    <button class="changePassBtn" id="changePassBtn" onclick="changePass()">Edit</button>
                                </td>
                            </tr>
                            <!--password-->

                            <!--delete account-->
                            <tr class="accSettingsDeleteAccount">
                                <td colspan="3">
                                    <button class="deleteAccBtn">Delete Account</button>
                                </td>
                            </tr>
                            <!--delete account-->
                        </table>

                    </div>
                    <!--account settings-->
                    
                </div>
                <!--settings content-->

            </div>
            <!--Settings-->

            <!--Search section-->
            <div class="searchFrame windowFrame" id="searchFrame">

                <!--search title-->
                <div class="searchHeadWrap">
                    <div class="searchHeadIconWrap">
                        <img src="pictures/search_icon_white.png" class="searchHeadImg">
                    </div>
                    <div class="searchHeadTitle">
                        <span id="totalCountOutput">0</span> Results for &raquo;<span id="searchStringOutput">123123</span>&laquo;
                    </div>
                </div>
                <!--search title-->

                <!--search content-->
                <div class="searchContentWrap">
                    <!--Mails results-->
                    <div class="searchMailWrap" id="searchMailWrap">

                        <!--Mails results title-->
                        <div class="searchMailHead">
                            <div class="searchMailHeadTitle searchTitleInner">
                                Mails <span id="mailResultsCount"></span>
                            </div>
                        </div>
                        <!--Mails results title-->

                        <!--Mail results display-->
                        <div class="searchMailResultsWrap" id="searchMailResultsWrap">
                            <!--Mail result-->
                            <div class="searchMailResultFrame">

                            </div>
                            <!--Mail result-->
                        </div>
                        <!--Mail results display-->
                    </div>
                    <!--Mails results-->

                    <!--Contact results-->
                    <div class="searchContactWrap">

                        <!--Contacts results title-->
                        <div class="searchContactHead">
                            <div class="searchContactHeadTitle searchTitleInner">
                                Contacts <span id="contactsResultCount"></span>
                            </div>
                        </div>
                        <!--Contacts results title-->

                        <!--Contact results display-->
                        <div class="searchContactsResultWrap" id="searchContactsResultWrap">
                            <!--Contact result-->
                            <div class="searchContactResultFrame">

                            </div>
                            <!--Contact result-->
                        </div>
                        <!--Contact results display-->
                    </div>
                </div>
                <!--search content-->

            </div>
            <!--Search section-->

            <!--Home section-->
            <div class="homeFrame windowFrame" id="homeFrame">
                <div class="homeHeadWrap">
                    <div class="HomeHeadImgWrap">
                        <img src="pictures/home_icon.png" class="homeHeadImg">
                    </div>
                    <div class="homeHeadTitle">
                        Home
                    </div>
                </div>

                <div class="homeFrameContent">
                    <!--tutorial-->
                    <div class="tutorialWrap">
                        <div class="tutorialHead">
                            <div class="tutorialIconWrap">
                                <img src="pictures/tutorial_icon.png" class="tutorialImg">
                            </div>
                            <div class="tutorialTitle">
                                Information &ThickSpace;
                            </div>
                            <div class="tutorialHeadCollapse">
                                <button class="tutorialCollapseBtn"></button>
                            </div>
                        </div>

                        <div class="tutorialWrap">
                            <div class="tutorialListWrap">
                                Welcome to the <b>M<sup>3</sup> e-mail app</b>. Using this app you can generate mails with AI (artificial
                                intelligence) to make writing mails more efficient and less time-consuming.
                                <br>
                            
                                <button class="tutorialChapterBtn" onclick="hideGenerate()">Generating your first mail</button>
                                
                                <span id="generateChapter">
                                    <ol>
                                        <li>Create a new contact on the &raquo;Add Contacts&laquo; panel</li>
                            
                                        <br>
                            
                                        <li>Go to the <a class="TutorialLink" href="#" onclick="displayMode(0)">&raquo;New Mail&laquo;</a> section
                                            (top left of page) and select the contact you just created. Alternatively...
                                            <ul>
                                                <li>you could click on the &raquo;New mail&laquo; button when viewing the contact's info</li>
                                                <li>or click on the mail icon next to the contact when viewing the <a class="TutorialLink" href="#" onclick="displayMode(2)">contact list</a></li>
                                            </ul>
                                        </li>
                            
                                        <br>
                            
                                        <li>Fill the text fields with the correct data. Content of text fields in order top to bottom:
                                            <ol>
                                                <li>Title of the new mail - name which will show up in your generated mails list</li>
                                                <li>Recipient - the person the mail is meant for</li>
                                                <li>Type or purpose of mail - e. g. apology, invitation</li>
                                                <li>Reason of mail - why you are writing te mail</li>
                                                <li>Formality - whether you want your mail to be formal or informal</li>
                                            </ol>
                                        </li>
                            
                                        <br>
                            
                                        <li>Click on the &raquo;Generate mail&laquo; button to generate the mail. The generation itself will take a
                                            moment.</li>
                            
                                        <br>
                            
                                        <li>Once the mail is generated, the app will let you know if the AI understood your input data.
                                            <ul>
                                                <li>If it did, it will redirect you to the mail</li>
                                                <li>If not, an error message will appear, prompting you to double check your inputs.</li>
                                            </ul>
                                        </li>
                            
                                    </ol>
                                </span>
                            
                            </div>
                            <div class="tutorialBtnWrap"> 
                                <button>Make a new contact</button>
                            </div>
                        </div>
                    </div>
                    <!--tutorial-->

                    <!--recent mails-->
                    <div class="recentMailWrap">

                    </div>
                    <!--recent mails-->


                    <!--recent contacts-->
                    <div class="recentContactWrap">

                    </div>
                    <!--recent contacts-->
                </div>
            </div>
        </div>
        <!--window CONTENT-->

    </div>
    <!--CONTENT-->
</body>

<!--script-->
<script src="preload.js"></script>
<script src="Scripts/inputFormatting.js"></script>
<script src="Scripts/displayShowHide.js"></script>
<script src="Scripts/tutorial.js"></script>
<script>
    displayMode(5);
    setupDb();
    loadUserProfile();
</script>
<!--script-->

</html>